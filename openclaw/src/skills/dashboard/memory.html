<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memories</title>
<style>
  body {font-family: Arial, sans-serif; background:#1e1e1e; color:#ddd; padding:20px;}
  h1 {text-align:center;}
  #search {width:100%; padding:8px; margin-bottom:10px; border:none; border-radius:4px;}
  .memory {background:#2b2b2b; padding:10px; margin:5px 0; border-radius:5px;}
  .title {font-weight:bold; color:#4caf50;}
  .content {white-space:pre-wrap; margin-top:5px; font-size:0.9em; color:#ccc;}
</style>
</head>
<body>
<h1>Memories</h1>
<input type="text" id="search" placeholder="Search memories..." oninput="load()" />
<div id="list"></div>
<script>
async function load(){
  const q=document.getElementById('search').value;
  const resp=await fetch('/api/memories'+(q?'?q='+encodeURIComponent(q):''));
  const data=await resp.json();
  const container=document.getElementById('list');
  container.innerHTML='';
  data.memories.forEach(m=>{
    const div=document.createElement('div');
    div.className='memory';
    div.innerHTML=`<div class="title">${m.title}</div><div class="content">${m.content}</div>`;
    container.appendChild(div);
  });
}
load();
</script>
</body>
</html>
